<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>result.hpp</title>
</head>
<body>
<article id="standardese-result.hpp" class="standardese-file-documentation">
<h1 class="standardese-file-documentation-heading">Header file <code>result.hpp</code></h1>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="pre">#include</span> <span class="pre">&lt;</span><span class="typ dec var fun">variant.hpp</span><span class="pre">&gt;</span>

<span class="pre">#include</span> <span class="pre">&lt;</span><span class="typ dec var fun">optional</span><span class="pre">&gt;</span>

<span class="kwd">namespace</span> <span class="typ dec var fun">otto</span>
<span class="pun">{</span>
    <span class="kwd">namespace</span> <span class="typ dec var fun">util</span>
    <span class="pun">{</span>
        <span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">ok_t</span><span class="pun">,</span> <span class="kwd">typename</span> <span class="typ dec var fun">err_t</span><span class="pun">&gt;</span>
        <span class="kwd">class</span> <a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E"><span class="typ dec var fun">result</span></a><span class="pun">;</span>
    <span class="pun">}</span>
<span class="pun">}</span>
</code></pre>
<section id="standardese-otto" class="standardese-entity-documentation">
<section id="standardese-otto::util" class="standardese-entity-documentation">
<section id="standardese-otto::util::result&lt;ok_t,err_t&gt;" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Class <code>otto::util::result</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">ok_t</span><span class="pun">,</span> <span class="kwd">typename</span> <span class="typ dec var fun">err_t</span><span class="pun">&gt;</span>
<span class="kwd">class</span> <span class="typ dec var fun">result</span>
<span class="pun">{</span>
<span class="kwd">public</span><span class="pun">:</span>
    <span class="kwd">using</span> <span class="typ dec var fun">Ok</span> <span class="pun">=</span> <span class="typ dec var fun">select_type_t</span><span class="pun">&lt;</span>std::is_void_v&lt;ok_t&gt;, std::monostate, ok_t<span class="pun">&gt;</span><span class="pun">;</span>

    <span class="kwd">using</span> <span class="typ dec var fun">Err</span> <span class="pun">=</span> <span class="typ dec var fun">select_type_t</span><span class="pun">&lt;</span>std::is_void_v&lt;err_t&gt;, std::monostate, err_t<span class="pun">&gt;</span><span class="pun">;</span>

    <span class="kwd">struct</span> <a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E::result_except"><span class="typ dec var fun">result_except</span></a><span class="pun">;</span>

    <span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="pun">=</span> std::enable_if_t&lt;std::is_default_constructible_v&lt;Ok&gt;<span class="pun">&gt;</span>
    <span class="typ dec var fun">result</span><span class="pun">(</span><span class="pun">)</span><span class="pun">;</span>

    <span class="typ dec var fun">result</span><span class="pun">(</span><span class="typ dec var fun">otto::util::result::Ok</span> <span class="kwd">const</span><span class="pun">&amp;</span> <span class="typ dec var fun">ok</span><span class="pun">)</span><span class="pun">;</span>

    <span class="typ dec var fun">result</span><span class="pun">(</span><span class="typ dec var fun">otto::util::result::Ok</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">ok</span><span class="pun">)</span><span class="pun">;</span>

    <span class="typ dec var fun">result</span><span class="pun">(</span><span class="typ dec var fun">otto::util::result::Err</span> <span class="kwd">const</span><span class="pun">&amp;</span> <span class="typ dec var fun">err</span><span class="pun">)</span><span class="pun">;</span>

    <span class="typ dec var fun">result</span><span class="pun">(</span><span class="typ dec var fun">otto::util::result::Err</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">err</span><span class="pun">)</span><span class="pun">;</span>

    <span class="kwd">bool</span> <a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E::is_ok()const"><span class="typ dec var fun">is_ok</span></a><span class="pun">(</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>

    <span class="kwd">bool</span> <a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E::is_err()const"><span class="typ dec var fun">is_err</span></a><span class="pun">(</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>

    <span class="typ dec var fun">std::optional</span><span class="pun">&lt;</span>Ok<span class="pun">&gt;</span> <a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E::ok()const"><span class="typ dec var fun">ok</span></a><span class="pun">(</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>

    <span class="typ dec var fun">std::optional</span><span class="pun">&lt;</span>Err<span class="pun">&gt;</span> <a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E::err()const"><span class="typ dec var fun">err</span></a><span class="pun">(</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>

    <span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">F</span><span class="pun">&gt;</span>
    <span class="typ dec var fun">result</span><span class="pun">&lt;</span>util::invoke_result_t&lt;F, Ok&gt;, otto::util::result::Err<span class="pun">&gt;</span> <a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E::map%3CF%3E(F&amp;&amp;)const"><span class="typ dec var fun">map</span></a><span class="pun">(</span><span class="typ dec var fun">F</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">op</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>

    <span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">F</span><span class="pun">&gt;</span>
    <span class="typ dec var fun">result</span><span class="pun">&lt;</span>otto::util::result::Ok, util::invoke_result_t&lt;F, Err&gt;<span class="pun">&gt;</span> <a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E::map_err%3CF%3E(F&amp;&amp;)const"><span class="typ dec var fun">map_err</span></a><span class="pun">(</span><span class="typ dec var fun">F</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">op</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>

    <span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">Ok2</span><span class="pun">&gt;</span>
    <span class="typ dec var fun">result</span><span class="pun">&lt;</span>Ok2, otto::util::result::Err<span class="pun">&gt;</span> <a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E::operator&amp;&amp;%3COk2%3E(result%3COk2,otto::util::result::Err%3Econst&amp;)const"><span class="typ dec var fun">operator&amp;&amp;</span></a><span class="pun">(</span><span class="typ dec var fun">result</span><span class="pun">&lt;</span>Ok2, otto::util::result::Err<span class="pun">&gt;</span> <span class="kwd">const</span><span class="pun">&amp;</span> <span class="typ dec var fun">r</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>

    <span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">F</span><span class="pun">&gt;</span>
    <span class="typ dec var fun">std::enable_if_t</span><span class="pun">&lt;</span>util::is_invocable_r_v&lt;result&lt;Ok, Err&gt;, F, Ok&gt;, result&lt;Ok, Err&gt;<span class="pun">&gt;</span> <a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E::and_then%3CF%3E(F&amp;&amp;)const"><span class="typ dec var fun">and_then</span></a><span class="pun">(</span><span class="typ dec var fun">F</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">f</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>

    <span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">Ok2</span><span class="pun">&gt;</span>
    <span class="typ dec var fun">result</span><span class="pun">&lt;</span>Ok2, otto::util::result::Err<span class="pun">&gt;</span> <a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E::operator%7C%7C%3COk2%3E(result%3COk2,otto::util::result::Err%3Econst&amp;)const"><span class="typ dec var fun">operator||</span></a><span class="pun">(</span><span class="typ dec var fun">result</span><span class="pun">&lt;</span>Ok2, otto::util::result::Err<span class="pun">&gt;</span> <span class="kwd">const</span><span class="pun">&amp;</span> <span class="typ dec var fun">r</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>

    <span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">F</span><span class="pun">&gt;</span>
    <span class="typ dec var fun">std::enable_if_t</span><span class="pun">&lt;</span>util::is_invocable_r_v&lt;result&lt;Ok, Err&gt;, F, Err&gt;, result&lt;Ok, Err&gt;<span class="pun">&gt;</span> <a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E::or_else%3CF%3E(F&amp;&amp;)const"><span class="typ dec var fun">or_else</span></a><span class="pun">(</span><span class="typ dec var fun">F</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">f</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>

    <span class="typ dec var fun">Ok</span> <a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E::ok_or(otto::util::result::Okconst&amp;)const"><span class="typ dec var fun">ok_or</span></a><span class="pun">(</span><span class="typ dec var fun">otto::util::result::Ok</span> <span class="kwd">const</span><span class="pun">&amp;</span> <span class="typ dec var fun">def</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>

    <span class="typ dec var fun">Err</span> <a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E::err_or(otto::util::result::Errconst&amp;)const"><span class="typ dec var fun">err_or</span></a><span class="pun">(</span><span class="typ dec var fun">otto::util::result::Err</span> <span class="kwd">const</span><span class="pun">&amp;</span> <span class="typ dec var fun">def</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>

    <span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">F</span><span class="pun">&gt;</span>
    <span class="typ dec var fun">std::enable_if_t</span><span class="pun">&lt;</span>util::is_invocable_r_v&lt;Ok, F, Err&gt;, Ok<span class="pun">&gt;</span> <a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E::ok_or_else%3CF%3E(F&amp;&amp;)const"><span class="typ dec var fun">ok_or_else</span></a><span class="pun">(</span><span class="typ dec var fun">F</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">f</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>

    <span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">F</span><span class="pun">&gt;</span>
    <span class="typ dec var fun">std::enable_if_t</span><span class="pun">&lt;</span>util::is_invocable_r_v&lt;Err, F, Ok&gt;, Err<span class="pun">&gt;</span> <a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E::err_or_else%3CF%3E(F&amp;&amp;)const"><span class="typ dec var fun">err_or_else</span></a><span class="pun">(</span><span class="typ dec var fun">F</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">f</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>

    <span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">F</span><span class="pun">&gt;</span>
    <span class="typ dec var fun">std::enable_if_t</span><span class="pun">&lt;</span>util::is_invocable_v&lt;F, Ok&gt;, void<span class="pun">&gt;</span> <a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E::if_ok%3CF%3E(F&amp;&amp;)const"><span class="typ dec var fun">if_ok</span></a><span class="pun">(</span><span class="typ dec var fun">F</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">f</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>

    <span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">F</span><span class="pun">&gt;</span>
    <span class="typ dec var fun">std::enable_if_t</span><span class="pun">&lt;</span>util::is_invocable_v&lt;F, Err&gt;, void<span class="pun">&gt;</span> <a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E::if_err%3CF%3E(F&amp;&amp;)const"><span class="typ dec var fun">if_err</span></a><span class="pun">(</span><span class="typ dec var fun">F</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">f</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>

    <span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">FO</span><span class="pun">,</span> <span class="kwd">typename</span> <span class="typ dec var fun">FE</span><span class="pun">,</span> <span class="kwd">typename</span> <span class="typ dec var fun">Ret</span> <span class="pun">=</span> std::common_type_t&lt;util::invoke_result_t&lt;FO,Ok&gt;,util::invoke_result_t&lt;FE,Err&gt;<span class="pun">&gt;</span>
    <span class="typ dec var fun">Ret</span> <a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E::wrap%3CFO,FE,Ret%3E(FO&amp;&amp;,FE&amp;&amp;)"><span class="typ dec var fun">wrap</span></a><span class="pun">(</span><span class="typ dec var fun">FO</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">fo</span><span class="pun">,</span> <span class="typ dec var fun">FE</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">fe</span><span class="pun">)</span> <span class="kwd">noexcept</span><span class="pun">;</span>

    <span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">V</span><span class="pun">,</span> <span class="kwd">typename</span> <span class="typ dec var fun">Ret</span> <span class="pun">=</span> std::common_type_t&lt;util::invoke_result_t&lt;V,Ok&gt;,util::invoke_result_t&lt;V,Err&gt;<span class="pun">&gt;</span>
    <span class="typ dec var fun">Ret</span> <a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E::visit%3CV,Ret%3E(V&amp;&amp;)"><span class="typ dec var fun">visit</span></a><span class="pun">(</span><span class="typ dec var fun">V</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">visitor</span><span class="pun">)</span> <span class="kwd">noexcept</span><span class="pun">;</span>

    <span class="typ dec var fun">Ok</span> <a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E::unwrap_ok()"><span class="typ dec var fun">unwrap_ok</span></a><span class="pun">(</span><span class="pun">)</span><span class="pun">;</span>

    <span class="typ dec var fun">Err</span> <a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E::unwrap_err()"><span class="typ dec var fun">unwrap_err</span></a><span class="pun">(</span><span class="pun">)</span><span class="pun">;</span>

<span class="kwd">private</span><span class="pun">:</span>
    <span class="typ dec var fun">mpark::variant</span><span class="pun">&lt;</span>Ok, Err<span class="pun">&gt;</span> <span class="typ dec var fun">data</span><span class="pun">;</span>
<span class="pun">};</span>
</code></pre>
<p id="standardese-otto::util::result&lt;ok_t,err_t&gt;-brief" class="standardese-brief-section">A sum type, holding either an Ok value, or an Err</p>
<p>Modelled closely after Rustâ€™s Result enum.</p>
<h4>Example</h4>
<pre><code class="standardese-language-cpp">result&lt;std::string, int&gt; open_file(File&amp; f) {
  f.open();
  if (f.error()) {
    return f.errorCode();
  }
  return f.path();
}
</code></pre>
<section id="standardese-otto::util::result&lt;ok_t,err_t&gt;::result_except" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Struct <code>result_except</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">struct</span> <span class="typ dec var fun">result_except</span>
<span class="pun">:</span> <span class="typ dec var fun">std::exception</span>
<span class="pun">{</span>
    result&lt;ok_t, err_t&gt; <span class="typ dec var fun">res</span><span class="pun">;</span>

    <span class="typ dec var fun">result_except</span><span class="pun">(</span>result&lt;ok_t, err_t&gt; <span class="typ dec var fun">r</span><span class="pun">)</span><span class="pun">;</span>

    <span class="kwd">virtual</span> <span class="kwd">char</span> <span class="kwd">const</span><span class="pun">*</span> <span class="typ dec var fun">what</span><span class="pun">(</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>
<span class="pun">};</span>
</code></pre>
<p id="standardese-otto::util::result&lt;ok_t,err_t&gt;::result_except-brief" class="standardese-brief-section">Thrown from &lt;unwrap_ok&gt; and &lt;unwrap_err&gt;.</p>
<p>Holds an instance of the <code>result</code> it was thrown from</p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::util::result&lt;ok_t,err_t&gt;::is_ok()const" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>is_ok</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">bool</span> <span class="typ dec var fun">is_ok</span><span class="pun">(</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::util::result&lt;ok_t,err_t&gt;::is_ok()const-brief" class="standardese-brief-section">Check if result is ok
@return <code>true</code> if the result is <code>Ok</code></p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::util::result&lt;ok_t,err_t&gt;::is_err()const" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>is_err</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">bool</span> <span class="typ dec var fun">is_err</span><span class="pun">(</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::util::result&lt;ok_t,err_t&gt;::is_err()const-brief" class="standardese-brief-section">Check if result is errored
@return <code>true</code> if the result is <code>Err</code></p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::util::result&lt;ok_t,err_t&gt;::ok()const" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>ok</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="typ dec var fun">std::optional</span><span class="pun">&lt;</span>Ok<span class="pun">&gt;</span> <span class="typ dec var fun">ok</span><span class="pun">(</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::util::result&lt;ok_t,err_t&gt;::ok()const-brief" class="standardese-brief-section">Convert into a <code>std::optional&lt;Ok&gt;</code>, discarding the error, if any</p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::util::result&lt;ok_t,err_t&gt;::err()const" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>err</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="typ dec var fun">std::optional</span><span class="pun">&lt;</span>Err<span class="pun">&gt;</span> <span class="typ dec var fun">err</span><span class="pun">(</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::util::result&lt;ok_t,err_t&gt;::err()const-brief" class="standardese-brief-section">Convert into a <code>std::optional&lt;Err&gt;</code>, discarding the ok value, if any</p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::util::result&lt;ok_t,err_t&gt;::map&lt;F&gt;(F&amp;&amp;)const" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>map</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">F</span><span class="pun">&gt;</span>
<a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E"><span class="typ dec var fun">result</span></a><span class="pun">&lt;</span>util::invoke_result_t&lt;F, Ok&gt;, otto::util::result::Err<span class="pun">&gt;</span> <span class="typ dec var fun">map</span><span class="pun">(</span><span class="typ dec var fun">F</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">op</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::util::result&lt;ok_t,err_t&gt;::map&lt;F&gt;(F&amp;&amp;)const-brief" class="standardese-brief-section">Map &lt;otto::result&lt;O, E&gt;&gt; to <code>result&lt;U, E&gt;</code> by invoking <code>op</code> on a contained
<code>Ok</code> value, leaving an <code>Err</code> value untouched</p>
<p>Can be used to compose the result of two functions</p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::util::result&lt;ok_t,err_t&gt;::map_err&lt;F&gt;(F&amp;&amp;)const" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>map_err</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">F</span><span class="pun">&gt;</span>
<a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E"><span class="typ dec var fun">result</span></a><span class="pun">&lt;</span>otto::util::result::Ok, util::invoke_result_t&lt;F, Err&gt;<span class="pun">&gt;</span> <span class="typ dec var fun">map_err</span><span class="pun">(</span><span class="typ dec var fun">F</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">op</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::util::result&lt;ok_t,err_t&gt;::map_err&lt;F&gt;(F&amp;&amp;)const-brief" class="standardese-brief-section">Map <code>result&lt;O, E&gt;</code> to <code>result&lt;O, F&gt;</code> by invoking <code>op</code> on a contained
<code>Err</code> value, leaving an <code>Ok</code> value untouched</p>
<p>Can be used to pass through a successful result while handling the error</p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::util::result&lt;ok_t,err_t&gt;::operator&amp;&amp;&lt;Ok2&gt;(result&lt;Ok2,otto::util::result::Err&gt;const&amp;)const" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>operator&amp;&amp;</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">Ok2</span><span class="pun">&gt;</span>
<a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E"><span class="typ dec var fun">result</span></a><span class="pun">&lt;</span>Ok2, otto::util::result::Err<span class="pun">&gt;</span> <span class="typ dec var fun">operator&amp;&amp;</span><span class="pun">(</span><a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E"><span class="typ dec var fun">result</span></a><span class="pun">&lt;</span>Ok2, otto::util::result::Err<span class="pun">&gt;</span> <span class="kwd">const</span><span class="pun">&amp;</span> <span class="typ dec var fun">r</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::util::result&lt;ok_t,err_t&gt;::operator&amp;&amp;&lt;Ok2&gt;(result&lt;Ok2,otto::util::result::Err&gt;const&amp;)const-brief" class="standardese-brief-section">Returns <code>r</code> if the result is <code>Ok</code>, otherwise returns its own <code>Err</code> value</p>
<p>Corresponds to the <code>and</code> method in rust</p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::util::result&lt;ok_t,err_t&gt;::and_then&lt;F&gt;(F&amp;&amp;)const" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>and_then</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">F</span><span class="pun">&gt;</span>
<span class="typ dec var fun">std::enable_if_t</span><span class="pun">&lt;</span>util::is_invocable_r_v&lt;result&lt;Ok, Err&gt;, F, Ok&gt;, result&lt;Ok, Err&gt;<span class="pun">&gt;</span> <span class="typ dec var fun">and_then</span><span class="pun">(</span><span class="typ dec var fun">F</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">f</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::util::result&lt;ok_t,err_t&gt;::and_then&lt;F&gt;(F&amp;&amp;)const-brief" class="standardese-brief-section">Invokes <code>f</code> with the ok value if the result is <code>Ok</code>,
otherwise returns its own <code>Err</code> value</p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::util::result&lt;ok_t,err_t&gt;::operator||&lt;Ok2&gt;(result&lt;Ok2,otto::util::result::Err&gt;const&amp;)const" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>operator||</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">Ok2</span><span class="pun">&gt;</span>
<a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E"><span class="typ dec var fun">result</span></a><span class="pun">&lt;</span>Ok2, otto::util::result::Err<span class="pun">&gt;</span> <span class="typ dec var fun">operator||</span><span class="pun">(</span><a href="doc_result.html#standardese-otto::util::result%3Cok_t,err_t%3E"><span class="typ dec var fun">result</span></a><span class="pun">&lt;</span>Ok2, otto::util::result::Err<span class="pun">&gt;</span> <span class="kwd">const</span><span class="pun">&amp;</span> <span class="typ dec var fun">r</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::util::result&lt;ok_t,err_t&gt;::operator||&lt;Ok2&gt;(result&lt;Ok2,otto::util::result::Err&gt;const&amp;)const-brief" class="standardese-brief-section">Returns <code>r</code> if the result is <code>Err</code>, otherwise returns its own <code>Ok</code> value</p>
<p>Corresponds to the <code>or</code> method in rust</p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::util::result&lt;ok_t,err_t&gt;::or_else&lt;F&gt;(F&amp;&amp;)const" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>or_else</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">F</span><span class="pun">&gt;</span>
<span class="typ dec var fun">std::enable_if_t</span><span class="pun">&lt;</span>util::is_invocable_r_v&lt;result&lt;Ok, Err&gt;, F, Err&gt;, result&lt;Ok, Err&gt;<span class="pun">&gt;</span> <span class="typ dec var fun">or_else</span><span class="pun">(</span><span class="typ dec var fun">F</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">f</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::util::result&lt;ok_t,err_t&gt;::or_else&lt;F&gt;(F&amp;&amp;)const-brief" class="standardese-brief-section">Invokes <code>f</code> with the error value if the result is <code>Err</code>,
otherwise returns its own <code>Ok</code> value</p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::util::result&lt;ok_t,err_t&gt;::ok_or(otto::util::result::Okconst&amp;)const" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>ok_or</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="typ dec var fun">Ok</span> <span class="typ dec var fun">ok_or</span><span class="pun">(</span><span class="typ dec var fun">otto::util::result::Ok</span> <span class="kwd">const</span><span class="pun">&amp;</span> <span class="typ dec var fun">def</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::util::result&lt;ok_t,err_t&gt;::ok_or(otto::util::result::Okconst&amp;)const-brief" class="standardese-brief-section">Returns its own value if the result is <code>ok</code>,
otherwise returns <code>def</code></p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::util::result&lt;ok_t,err_t&gt;::err_or(otto::util::result::Errconst&amp;)const" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>err_or</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="typ dec var fun">Err</span> <span class="typ dec var fun">err_or</span><span class="pun">(</span><span class="typ dec var fun">otto::util::result::Err</span> <span class="kwd">const</span><span class="pun">&amp;</span> <span class="typ dec var fun">def</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::util::result&lt;ok_t,err_t&gt;::err_or(otto::util::result::Errconst&amp;)const-brief" class="standardese-brief-section">Returns its own value if the result is <code>err</code>,
otherwise returns <code>def</code></p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::util::result&lt;ok_t,err_t&gt;::ok_or_else&lt;F&gt;(F&amp;&amp;)const" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>ok_or_else</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">F</span><span class="pun">&gt;</span>
<span class="typ dec var fun">std::enable_if_t</span><span class="pun">&lt;</span>util::is_invocable_r_v&lt;Ok, F, Err&gt;, Ok<span class="pun">&gt;</span> <span class="typ dec var fun">ok_or_else</span><span class="pun">(</span><span class="typ dec var fun">F</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">f</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::util::result&lt;ok_t,err_t&gt;::ok_or_else&lt;F&gt;(F&amp;&amp;)const-brief" class="standardese-brief-section">Returns its own value if the result is <code>ok</code>,
otherwise invokes <code>f</code> with the error value</p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::util::result&lt;ok_t,err_t&gt;::err_or_else&lt;F&gt;(F&amp;&amp;)const" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>err_or_else</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">F</span><span class="pun">&gt;</span>
<span class="typ dec var fun">std::enable_if_t</span><span class="pun">&lt;</span>util::is_invocable_r_v&lt;Err, F, Ok&gt;, Err<span class="pun">&gt;</span> <span class="typ dec var fun">err_or_else</span><span class="pun">(</span><span class="typ dec var fun">F</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">f</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::util::result&lt;ok_t,err_t&gt;::err_or_else&lt;F&gt;(F&amp;&amp;)const-brief" class="standardese-brief-section">Returns its own value if the result is <code>err</code>,
otherwise invokes <code>f</code> with the ok value</p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::util::result&lt;ok_t,err_t&gt;::if_ok&lt;F&gt;(F&amp;&amp;)const" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>if_ok</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">F</span><span class="pun">&gt;</span>
<span class="typ dec var fun">std::enable_if_t</span><span class="pun">&lt;</span>util::is_invocable_v&lt;F, Ok&gt;, void<span class="pun">&gt;</span> <span class="typ dec var fun">if_ok</span><span class="pun">(</span><span class="typ dec var fun">F</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">f</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::util::result&lt;ok_t,err_t&gt;::if_ok&lt;F&gt;(F&amp;&amp;)const-brief" class="standardese-brief-section">If ok, call <code>f(ok)</code></p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::util::result&lt;ok_t,err_t&gt;::if_err&lt;F&gt;(F&amp;&amp;)const" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>if_err</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">F</span><span class="pun">&gt;</span>
<span class="typ dec var fun">std::enable_if_t</span><span class="pun">&lt;</span>util::is_invocable_v&lt;F, Err&gt;, void<span class="pun">&gt;</span> <span class="typ dec var fun">if_err</span><span class="pun">(</span><span class="typ dec var fun">F</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">f</span><span class="pun">)</span> <span class="kwd">const</span> <span class="kwd">noexcept</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::util::result&lt;ok_t,err_t&gt;::if_err&lt;F&gt;(F&amp;&amp;)const-brief" class="standardese-brief-section">If err, call <code>f(err)</code></p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::util::result&lt;ok_t,err_t&gt;::wrap&lt;FO,FE,Ret&gt;(FO&amp;&amp;,FE&amp;&amp;)" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>wrap</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">FO</span><span class="pun">,</span> <span class="kwd">typename</span> <span class="typ dec var fun">FE</span><span class="pun">,</span> <span class="kwd">typename</span> <span class="typ dec var fun">Ret</span> <span class="pun">=</span> std::common_type_t&lt;util::invoke_result_t&lt;FO,Ok&gt;,util::invoke_result_t&lt;FE,Err&gt;<span class="pun">&gt;</span>
<span class="typ dec var fun">Ret</span> <span class="typ dec var fun">wrap</span><span class="pun">(</span><span class="typ dec var fun">FO</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">fo</span><span class="pun">,</span> <span class="typ dec var fun">FE</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">fe</span><span class="pun">)</span> <span class="kwd">noexcept</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::util::result&lt;ok_t,err_t&gt;::wrap&lt;FO,FE,Ret&gt;(FO&amp;&amp;,FE&amp;&amp;)-brief" class="standardese-brief-section">If ok, call <code>fo(ok)</code>, otherwise call <code>fe(err)</code></p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::util::result&lt;ok_t,err_t&gt;::visit&lt;V,Ret&gt;(V&amp;&amp;)" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>visit</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">V</span><span class="pun">,</span> <span class="kwd">typename</span> <span class="typ dec var fun">Ret</span> <span class="pun">=</span> std::common_type_t&lt;util::invoke_result_t&lt;V,Ok&gt;,util::invoke_result_t&lt;V,Err&gt;<span class="pun">&gt;</span>
<span class="typ dec var fun">Ret</span> <span class="typ dec var fun">visit</span><span class="pun">(</span><span class="typ dec var fun">V</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">visitor</span><span class="pun">)</span> <span class="kwd">noexcept</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::util::result&lt;ok_t,err_t&gt;::visit&lt;V,Ret&gt;(V&amp;&amp;)-brief" class="standardese-brief-section">If ok, call <code>visitor(ok)</code>, otherwise call <code>visitor(err)</code></p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::util::result&lt;ok_t,err_t&gt;::unwrap_ok()" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>unwrap_ok</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="typ dec var fun">Ok</span> <span class="typ dec var fun">unwrap_ok</span><span class="pun">(</span><span class="pun">)</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::util::result&lt;ok_t,err_t&gt;::unwrap_ok()-brief" class="standardese-brief-section">Return ok, or throw a <code>result_except&lt;Err&gt;</code> holding the result.</p>
<p>Should only be called when &lt;is_err&gt; or &lt;is_ok&gt; has been used to check.</p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::util::result&lt;ok_t,err_t&gt;::unwrap_err()" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>unwrap_err</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="typ dec var fun">Err</span> <span class="typ dec var fun">unwrap_err</span><span class="pun">(</span><span class="pun">)</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::util::result&lt;ok_t,err_t&gt;::unwrap_err()-brief" class="standardese-brief-section">Return err, or throw a <code>result_except&lt;Err&gt;</code> holding the result.</p>
<p>Should only be called when &lt;is_err&gt; or &lt;is_ok&gt; has been used to check.</p>
</section>
<hr class="standardese-entity-documentation-break" />
</section>
<hr class="standardese-entity-documentation-break" />
</section>
</section>
</article>
</body>
</html>
